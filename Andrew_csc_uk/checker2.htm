<!doctype html>
 
<html lang="en">
<head>
<script type="text/javascript" src="md5-min.js"></script>
<script src="./jquery-1.8.2.js"></script>
<script src="./jquery-ui.js"></script>
</head>
<body>



<div id="output"> </div>
<div id="hintbox" style="display:none;width:500px; padding:10px; margin:5px; border:1px blue dotted;"> Use your crosshairs!</div>
<div id="wrong" style="visibility:hidden;">
<button id="tryagain">Try Again</button>
<button id="hint">Give me a Hint</button>
<button id="giveup"> Give up on this!</button>
</div> 

<div id="right" style="visibility:hidden">
<button id="finished">I'm finished. Submit my results</button>
<button id="ncipher">Next Cipher Please!</button> <!-- Button for clicking on to cipher 3 -->

</div>
 
 
</body>
<script type="text/javascript">
function doMD(){
var num_rows=localStorage.length;
var key="userdata."+(num_rows).toString();

// here we grab the answer from the url
var prmstr = window.location.search.substr(1);
answer = prmstr.substring(prmstr.indexOf("answer=")+7);

// now we turn + into space and %3F into ?
answer=answer.replace(/\+/g,' ');
answer=answer.replace('%3F','?');

// hash the answer the person gave
md5pass = hex_md5(answer);

// and now we compare hashes so that the answer can't be found
// just by viewing source. We hash lots of right answers
// with and with out caps, spaces, etc. Whatever we accept.
if(md5pass=="4449f8046ccde6c9e0ea7011b69e8cb0" || md5pass=="0b569a11ad64159f90ab3afb7e9b6227" || md5pass=="e02a8c3c55952f4f3b7ae2ca9a93aa4f" || md5pass=="ba9b301c7f458ce81c76186efa9a5cb2" || md5pass=="73c45d2a50b6838fa977a8c9f4a0b580" || md5pass=="3faa400f0d290eb4944d6bd87fe7533e" || md5pass=="40264c27aac0b5f46cfbe83962572394" || md5pass=="e4cc6d7f8cfa63d23d98a2123412f606" || md5pass=="97e50acda5ff90ca58734550ccfca17a" || md5pass=="0f9aac4df767ced33cd6f8b75ab19eab" || md5pass=="a64cd6d7514f4b3ebf892ec6a5a6b562" || md5pass=="efe6956db0e8d8170133e18bedf61b2e" || md5pass=="b476553d9d3db58bba069edd994d08a2" || md5pass=="e943a9663e9a8f39025a0105a2c347d4"){

  // They have it right, so we tell 'em so!
  e = document.getElementById('output');
  e.innerHTML="WELL DONE - You are clearly in!"

  myinfo[8] = 1;

  // start of jquery button stuff for right answers
  $("#right").css("visibility","visible");

  $(function(){
       $("#finished").click(function(){
       window.location = "index.html";
    });
       $("#ncipher").click(function(){
       window.location = "cipher3.html";
    });
  });

}
else{
  //failed
  e = document.getElementById('output');
  e.innerHTML="Bad Luck, that solution is incorrect.<br>";
  $("#wrong").css("visibility","visible");

  // start of jquery button stuff
  $(function() {
      $("#tryagain").click(function(){
         window.location = "cipher2.html";
      });
      $("#giveup").click(function(){
          window.location = "index.htm";
      });           
     $("#hint").click(function(){
          $("#hintbox").css("display","block");
     });
  });


}
textToAdd=JSON.stringify(myinfo);
localStorage[key]=textToAdd;

}
doMD();
	</script>

</html>
